<!DOCTYPE html>
{% load i18n %}
{% load static %}
{% get_current_language as LANGUAGE_CODE %}
{% get_available_languages as LANGUAGES %}
{% get_language_info_list for LANGUAGES as languages %}
<div class="fixed-top">
    <div class="position-relative" style="margin-top:50px;">
      <div class="position-absolute top-0 end-0 translate-middle">
        <div class="container">
          <div class="row">
            <div class="col">
              <form action="{% url 'set_language' %}" method="POST">
                {% csrf_token %}
                {% comment %} <input name="next" type="hidden" value="{{ redirect_to }}"> {% endcomment %}
                <select class="form-select form-select-lg mb-3" aria-label=".form-select-lg example" name="language" onchange="this.form.submit()">
                  {% for language in languages %}
                  <option value="{{ language.code }}"{% if language.code == LANGUAGE_CODE %} selected{% endif %}>
                    {{ language.name_local }}
                    {% if LANGUAGE_CODE == 'en' %}
                    <img src="https://ipapi.co/static/images/flags/us.png" />
                    {% else %}
                    <img src="https://ipapi.co/static/images/flags/{{LANGUAGE_CODE}}.png" />
                    {% endif %}
                  </option>
                  {% endfor %}
                </select>
              </form>
            </div>
            <div class="col-1">
              {% if LANGUAGE_CODE == 'en' %}
              <img style="object-fit: cover;" src="https://ipapi.co/static/images/flags/us.png" />
              {% else %}
              <img style="object-fit: cover;" src="https://ipapi.co/static/images/flags/{{LANGUAGE_CODE}}.png" />
              {% endif %}
            </div>
          </div>
        </div>
      </div>
    </div>
</div>

<div class="fixed-top">
    <div class="position-relative">
        <div class="position-absolute end-0">
            <div class="C0mplexButton float-end">
                {% if id == 0 %}
                <a href="/">
                    <span></span>
                    <span></span>
                    <span></span>
                    <span></span>
                    X
                </a>
                {%else%}
                <a href="/news">
                    <span></span>
                    <span></span>
                    <span></span>
                    <span></span>
                    X
                </a>
                {%endif%}
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">
    (function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "e815a36ng3");
</script>
    <!-- Yandex.Metrika counter -->
<script type="text/javascript" >
   (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
   m[i].l=1*new Date();
   for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
   k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
   (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

   ym(90624869, "init", {
        clickmap:true,
        trackLinks:true,
        accurateTrackBounce:true
   });
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/90624869" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->
    <!-- Yandex.RTB -->
<script>window.yaContextCb=window.yaContextCb||[]</script>
<script src="https://yandex.ru/ads/system/context.js" async></script>
<meta name="yandex-verification" content="6bd5e2cc7d84e7b1" />
<title>
    {% if id == 0 %}
        {% if request.LANGUAGE_CODE == 'uz' %}
            Yangiliklar
        {% else %}
        {% if request.LANGUAGE_CODE == 'ru' %}
            Новости
        {% else %}
            News
        {% endif %}
        {% endif %}
    {% else %}
        {% if request.LANGUAGE_CODE == 'uz' %}
            Yangiliklar {{news.name_uz_uz }}
        {% else %}
        {% if request.LANGUAGE_CODE == 'ru' %}
            Новости {{news.name_ru_ru }}
        {% else %}
            News {{news.name_en_us }}
        {% endif %}
        {% endif %}
    {% endif %}
</title>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4137874891184814"
 crossorigin="anonymous"></script>
 <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7773722896374259"
     crossorigin="anonymous"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-8DHWL20H58"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-8DHWL20H58');
</script>
        <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NW763C2');</script>
<!-- End Google Tag Manager -->
<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.6/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.6.6/firebase-analytics.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyDpWaFi5QLTNc-yY0ieMKJtGOmbm2ofBm4",
    authDomain: "c0mplex.firebaseapp.com",
    projectId: "c0mplex",
    storageBucket: "c0mplex.appspot.com",
    messagingSenderId: "755681568857",
    appId: "1:755681568857:web:102b1b733df55baefe2948",
    measurementId: "G-H8XGTS4B9J"
  };

  // Initialize Firebase

  getAnalytics(initializeApp(firebaseConfig));
</script>
{% comment %} <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous"> {% endcomment %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"  rel="stylesheet">
<link rel="icon" sizes="16x16" href="/static/img/favicon.ico">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
{% if id == 0 %}
<link rel="stylesheet" href="{% static 'css/style.css' %}">
{%endif%}
<link rel="stylesheet" href="/static/css/C0mplexButtonStyle.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.4/jquery.min.js" integrity="sha512-pumBsjNRGGqkPzKHndZMaAG+bir374sORyzM3uulLV14lN5LyykqNk8eEeUlUkB3U0M4FApyaHraT65ihJhDpQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    
<style>
      body {
      background-color: #212121;
      color: white
      }

      /* Qora rang uchun stil */
      .dark-mode {
        background: linear-gradient(to right, #1a1a1a, #210021, #1a1a1a) !important;
        color: #ffffff;
      }

      /* Oq rang uchun stil */
      .light-mode {
        background-color: #f0f2f5;
        color: #000000;
      }

      /* Theme switch tugmasi uchun stil */
      .theme-switch {
        position: fixed;
        top: 20px;
        left: 20px;
        z-index: 9999;
        padding: 8px 15px;
        border-radius: 20px;
        cursor: pointer;
        border: none;
        background: rgba(0, 123, 255, 0.8);
        color: white;
        outline: none;
        box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        transition: all 0.3s ease;
      }

      .theme-switch:hover {
        background: rgba(0, 123, 255, 1);
        transform: scale(1.05);
      }

      .theme-switch i {
        font-size: 1.2rem;
      }

      /* Dark mode uchun qo'shimcha stillar */
      .dark-mode .project-info {
        background: rgba(33, 0, 33, 0.9);
      }

      .dark-mode .section-title {
        color: #fff;
      }

      .dark-mode .section-title span {
        color: #0d6efd;
      }

      .dark-mode a {
        color: #8bb9fe;
      }

      .dark-mode a:hover {
        color: #4a9eff;
      }

      body {
        transition: background-color 0.3s, color 0.3s;
      }
</style>

<script>
  // Local Storage-da theme ni saqlash
  function setTheme(themeName) {
    localStorage.setItem('theme', themeName);
    document.body.classList.remove('light-mode', 'dark-mode');
    document.body.classList.add(themeName);
  }

  // Temani almashtirib beruvchi funksiya  
  function toggleTheme() {
    if (document.body.classList.contains('dark-mode')){
      setTheme('light-mode');
    } else {
      setTheme('dark-mode');
    }
  }

  // Sahifa yuklanganda avvalgi tanlangan temani yuklash
  document.addEventListener('DOMContentLoaded', function() {
    if (localStorage.getItem('theme') === 'dark-mode') {
      setTheme('dark-mode');
    } else {
      setTheme('light-mode');
    }
  });
</script>

<html>
<head>
  <button onclick="toggleTheme()" class="theme-switch">
    <i class="bi bi-brightness-high"></i>
  </button>
</head>
<body>
    <ins class="adsbygoogle"
        style="display:block; text-align:center;"
        data-ad-layout="in-article"
        data-ad-format="fluid"
        data-ad-client="ca-pub-7773722896374259"
        data-ad-slot="2303661293"></ins>
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
    <ins class="adsbygoogle"
    style="display:block; text-align:center;"
    data-ad-layout="in-article"
    data-ad-format="fluid"
    data-ad-client="ca-pub-4137874891184814"
    data-ad-slot="6832564320"></ins>
    <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
    {% if id == 0 %}
      <!-- Projects Section -->
        <section id="projects">
            <div class="projects container">
            <div class="projects-header">
              <!-- Display 1 -->
              <ins class="adsbygoogle"
                style="display:block; text-align:center;"
                data-ad-client="ca-pub-7773722896374259"
                data-ad-slot="3869366477"
                data-ad-format="auto"
                data-full-width-responsive="true"></ins>
              <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
              </script>
                <!-- 2 chi abzast Mobil -->
                <ins class="adsbygoogle"
                style="display:block; text-align:center;"
                data-ad-client="ca-pub-4137874891184814"
                data-ad-slot="2646747626"
                data-ad-format="auto"
                data-full-width-responsive="true"></ins>
                <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
                <h1>
                    <a href="https://play.google.com/store/apps/details?id=avtotest.complexprogrammer.uz" target="_blank">
                        {% if request.LANGUAGE_CODE == 'uz' %}
                        Yangiliklar
                        {% else %}
                        {% if request.LANGUAGE_CODE == 'ru' %}
                        Новости
                        {% else %}
                        News
                        {% endif %}
                        {% endif %}
                    </a>
                    <a href="https://play.google.com/store/apps/details?id=avtotest.complexprogrammer.uz" target="_blank">
                        <img src="/static/img/google-play.svg" />
                    </a>
                </h1>
                {% if request.LANGUAGE_CODE == 'uz' %}
                <h1 class="section-title">Yangiliklar <span>Yangiliklar</span></h1>
                {% else %}
                {% if request.LANGUAGE_CODE == 'ru' %}
                <h1 class="section-title">Новости <span>Новости</span></h1>
                {% else %}
                <h1 class="section-title">News <span>News</span></h1>
                {% endif %}
                {% endif %}
                
            </div>
            <div class="all-projects">
                {%for item in news%}
                <div class="project-item">
                    {% if request.LANGUAGE_CODE == 'uz' %}
                    <div class="project-info">
                        <h1>{{item.name_uz_uz}}</h1>
                        <h2>{{item.title_uz_uz}}</h2>
                        <p>{{item.publish_time}}</p>
                        <div class="C0mplexButton Success">
                            <a href="/news?id={{item.id}}">
                                <span></span>
                                <span></span>
                                <span></span>
                                <span></span>
                                <i class="material-icons">&#9758;</i>
                                Kirish
                                <div class="spinner-border" role="status"></div>
                            </a>
                        </div>
                    </div>
                    {% else %}
                    {% if request.LANGUAGE_CODE == 'ru' %}
                    <div class="project-info">
                        <h1>{{item.name_ru_ru}}</h1>
                        <h2>{{item.title_ru_ru}}</h2>
                        <p>{{item.publish_time}}</p>
                        <div class="C0mplexButton Success">
                            <a href="/news?id={{item.id}}">
                                <span></span>
                                <span></span>
                                <span></span>
                                <span></span>
                                <i class="material-icons">&#9758;</i>
                                Входить
                                <div class="spinner-border" role="status"></div>
                            </a>
                        </div>
                    </div>
                    {% else %}
                    <div class="project-info">
                        <h1>{{item.name_en_us}}</h1>
                        <h2>{{item.title_en_us}}</h2>
                        <p>{{item.publish_time}}</p>
                        <div class="C0mplexButton Success">
                            <a href="/news?id={{item.id}}">
                                <span></span>
                                <span></span>
                                <span></span>
                                <span></span>
                                <i class="material-icons">&#9758;</i>
                                Enter
                                <div class="spinner-border" role="status"></div>
                            </a>
                        </div>
                    </div>
                    {% endif %}
                    {% endif %}
                <div class="project-img">
                    <img src="/media/{{item.image}}" alt="img">
                </div>
                </div>
                {%endfor%}
            </div>
            </div>
        </section>
    {% else %}
        <div class="container">
            <h1>
                <a href="https://play.google.com/store/apps/details?id=avtotest.complexprogrammer.uz" target="_blank">
                    {% if request.LANGUAGE_CODE == 'uz' %}
                    {{news.title_uz_uz }}
                    {% else %}
                    {% if request.LANGUAGE_CODE == 'ru' %}
                    {{news.title_ru_ru }}
                    {% else %}
                    {{news.title_en_us }}
                    {% endif %}
                    {% endif %}
                </a>
                <a href="https://play.google.com/store/apps/details?id=avtotest.complexprogrammer.uz" target="_blank">
                    <img src="/static/img/google-play.svg" />
                </a>
            </h1>
            <br/>
            <br/>
            <br/>
            {% if request.LANGUAGE_CODE == 'uz' %}
            {{news.body_uz_uz|safe }}
            {% else %}
            {% if request.LANGUAGE_CODE == 'ru' %}
            {{news.body_ru_ru|safe }}
            {% else %}
            {{news.body_en_us|safe }}
            {% endif %}
            {% endif %}
        </div>
    {% endif %}
    {% if id != 0 %}
    {% include 'comment_form.html' with comments=comments %} 
    {% endif %}

</div>
    <ins class="adsbygoogle"
        style="display:block; text-align:center;"
        data-ad-format="autorelaxed"
        data-ad-client="ca-pub-7773722896374259"
        data-ad-slot="2479701367"></ins>
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
    <ins class="adsbygoogle"
    style="display:block; text-align:center;"
    data-ad-format="autorelaxed"
    data-ad-client="ca-pub-4137874891184814"
    data-ad-slot="4202531555"></ins>
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
    <ins class="adsbygoogle"
        style="display:block; text-align:center;"
        data-ad-format="fluid"
        data-ad-layout-key="-an-4i-cp+a2+21k"
        data-ad-client="ca-pub-7773722896374259"
        data-ad-slot="4679993061"></ins>
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
    <ins class="adsbygoogle"
        style="display:block; text-align:center;"
        data-ad-format="fluid"
        data-ad-layout-key="-6t+ed+2i-1n-4w"
        data-ad-client="ca-pub-4137874891184814"
        data-ad-slot="7442938415"></ins>
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
    <!-- Display 2 -->
    <ins class="adsbygoogle"
      style="display:block; text-align:center;"
      data-ad-client="ca-pub-7773722896374259"
      data-ad-slot="9722986318"
      data-ad-format="auto"
      data-full-width-responsive="true"></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
    <!-- 1 chi abzast Mobil -->
    <ins class="adsbygoogle"
        style="display:block; text-align:center;"
        data-ad-client="ca-pub-4137874891184814"
        data-ad-slot="2799587029"
        data-ad-format="auto"
        data-full-width-responsive="true"></ins>
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</body>
</html>