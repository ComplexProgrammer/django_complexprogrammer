{% load i18n %}
{% get_current_language as LANGUAGE_CODE %}
{% get_available_languages as LANGUAGES %}
{% get_language_info_list for LANGUAGES as languages %}
<div class="fixed-top">
    <div class="position-relative" style="margin-top:50px;">
      <div class="position-absolute top-0 end-0 translate-middle">
        <div class="container">
          <div class="row">
            <div class="col">
              <form action="{% url 'set_language' %}" method="POST">
                {% csrf_token %}
                <input name="next" type="hidden" value="{{ redirect_to }}">
                <select class="form-select form-select-lg mb-3" aria-label=".form-select-lg example" name="language" onchange="this.form.submit()">
                  {% for language in languages %}
                  <option value="{{ language.code }}"{% if language.code == LANGUAGE_CODE %} selected{% endif %}>
                    {{ language.name_local }}
                    {% if LANGUAGE_CODE == 'en' %}
                    <img src="https://ipapi.co/static/images/flags/us.png" />
                    {% else %}
                    <img src="https://ipapi.co/static/images/flags/{{LANGUAGE_CODE}}.png" />
                    {% endif %}
                  </option>
                  {% endfor %}
                </select>
              </form>
            </div>
            <div class="col-1">
              {% if LANGUAGE_CODE == 'en' %}
              <img style="object-fit: cover;" src="https://ipapi.co/static/images/flags/us.png" />
              {% else %}
              <img style="object-fit: cover;" src="https://ipapi.co/static/images/flags/{{LANGUAGE_CODE}}.png" />
              {% endif %}
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
<!DOCTYPE html>
<html lang="en">
<head>
    <script type="text/javascript">
    (function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "e815a36ng3");
</script>
        <!-- Yandex.Metrika counter -->
<script type="text/javascript" >
   (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
   m[i].l=1*new Date();
   for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
   k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
   (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");
   ym(90624869, "init", {
        clickmap:true,
        trackLinks:true,
        accurateTrackBounce:true
   });
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/90624869" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->
    <!-- Yandex.RTB -->
<script>window.yaContextCb=window.yaContextCb||[]</script>
<script src="https://yandex.ru/ads/system/context.js" async></script>
<meta name="yandex-verification" content="6bd5e2cc7d84e7b1" />
    <meta charset="UTF-8">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4137874891184814"
     crossorigin="anonymous"></script>
     <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7773722896374259"
     crossorigin="anonymous"></script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-8DHWL20H58"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-8DHWL20H58');
    </script>
        <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NW763C2');</script>
<!-- End Google Tag Manager -->
    <script type="module">
      // Import the functions you need from the SDKs you need
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.6/firebase-app.js";
      import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.6.6/firebase-analytics.js";
      // TODO: Add SDKs for Firebase products that you want to use
      // https://firebase.google.com/docs/web/setup#available-libraries

      // Your web app's Firebase configuration
      // For Firebase JS SDK v7.20.0 and later, measurementId is optional
      const firebaseConfig = {
        apiKey: "AIzaSyDpWaFi5QLTNc-yY0ieMKJtGOmbm2ofBm4",
        authDomain: "c0mplex.firebaseapp.com",
        projectId: "c0mplex",
        storageBucket: "c0mplex.appspot.com",
        messagingSenderId: "755681568857",
        appId: "1:755681568857:web:102b1b733df55baefe2948",
        measurementId: "G-H8XGTS4B9J"
      };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const analytics = getAnalytics(app);
    </script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script><link rel="icon" sizes="16x16" href="/static/img/favicon.ico">
    <link rel="stylesheet" href="/static/css/C0mplexButtonStyle.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.4/jquery.min.js" integrity="sha512-pumBsjNRGGqkPzKHndZMaAG+bir374sORyzM3uulLV14lN5LyykqNk8eEeUlUkB3U0M4FApyaHraT65ihJhDpQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link href='http://fonts.googleapis.com/css?family=Roboto:400,300,700,900|Roboto+Condensed:400,300,700' rel='stylesheet' type='text/css'>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/css/alertify.min.css"/>
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/css/themes/default.min.css"/>
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/css/themes/semantic.min.css"/>
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/css/themes/bootstrap.min.css"/>
    <script src="//cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/alertify.min.js"></script>
    <script src="https://kit.fontawesome.com/391652c176.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.8.3/angular.min.js" integrity="sha512-KZmyTq3PLx9EZl0RHShHQuXtrvdJ+m35tuOiwlcZfs/rE7NZv29ygNA8SFCkMXTnYZQK2OX0Gm2qKGfvWEtRXA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <title>
        {% if request.LANGUAGE_CODE == 'uz' %}
        Instagram yuklab olish dasturi
        {% else %}
        {% if request.LANGUAGE_CODE == 'ru' %}
        Загрузчик Инстаграм
        {% else %}
        Instagram Downloader
        {% endif %}
        {% endif %}
    </title>
    <style>
        :root {
            --bg-color: #0a0a1f;
            --text-color: #ffffff;
            --card-bg: rgba(45, 45, 80, 0.7);
            --border-color: rgba(138, 58, 185, 0.3);
            --instagram-gradient: linear-gradient(45deg, #f09433 0%,#e6683c 25%,#dc2743 50%,#cc2366 75%,#bc1888 100%);
            --accent-purple: #8a3ab9;
            --accent-pink: #e1306c;
            --accent-orange: #fd1d1d;
            --glow-color: rgba(225, 48, 108, 0.4);
            transition: all 0.3s ease;
        }

        [data-theme="dark"] {
            --bg-color: #0a0a1f;
            --text-color: #ffffff;
            --card-bg: rgba(45, 45, 80, 0.7);
            --border-color: rgba(138, 58, 185, 0.3);
        }

        [data-theme="light"] {
            --bg-color: #fafafa;
            --text-color: #262626;
            --card-bg: rgba(255, 255, 255, 0.9);
            --border-color: rgba(219, 219, 219, 0.5);
            --glow-color: rgba(225, 48, 108, 0.2);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            transition: all 0.3s ease;
            font-family: 'Roboto', sans-serif;
            overflow-x: hidden;
            position: relative;
            min-height: 100vh;
        }

        #threejs-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none;
        }

        .container {
            position: relative;
            z-index: 1;
            padding-top: 20px;
        }

        .card {
            background: var(--card-bg) !important;
            border: 2px solid var(--border-color) !important;
            backdrop-filter: blur(20px);
            border-radius: 20px !important;
            box-shadow: 0 15px 40px var(--glow-color);
            transition: all 0.4s ease;
            overflow: hidden;
            position: relative;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--instagram-gradient);
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 60px var(--glow-color);
            border-color: var(--accent-pink);
        }

        .card-header {
            background: var(--instagram-gradient) !important;
            font-weight: 700 !important;
            font-size: 1.5rem !important;
            padding: 20px !important;
            border: none !important;
            animation: gradientShift 5s ease infinite;
            background-size: 200% 200% !important;
        }

        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .card-title {
            background: var(--instagram-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 700;
            font-size: 1.3rem;
            margin-bottom: 15px;
            background-size: 200% 200%;
            animation: gradientShift 5s ease infinite;
        }

        .form-control {
            background: rgba(255, 255, 255, 0.1) !important;
            border: 2px solid var(--border-color) !important;
            color: var(--text-color) !important;
            border-radius: 15px !important;
            padding: 15px !important;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .form-control:focus {
            background: rgba(255, 255, 255, 0.15) !important;
            border-color: var(--accent-pink) !important;
            box-shadow: 0 0 30px var(--glow-color) !important;
            color: var(--text-color) !important;
        }

        .form-control::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .btn {
            border-radius: 15px !important;
            padding: 12px 25px !important;
            font-weight: 600 !important;
            transition: all 0.3s ease !important;
            border: 2px solid !important;
        }

        .btn-outline-success {
            border-color: #00d4aa !important;
            color: #00d4aa !important;
        }

        .btn-outline-success:hover {
            background: #00d4aa !important;
            color: white !important;
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(0, 212, 170, 0.4);
        }

        .btn-outline-warning {
            background: var(--instagram-gradient) !important;
            border: none !important;
            color: white !important;
            background-size: 200% 200% !important;
        }

        .btn-outline-warning:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 30px var(--glow-color) !important;
            animation: gradientShift 2s ease infinite;
        }

        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 12px 20px;
            border-radius: 50px;
            border: 2px solid var(--accent-purple);
            background: var(--card-bg);
            color: var(--text-color);
            cursor: pointer;
            z-index: 1000;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            font-weight: 600;
            box-shadow: 0 5px 20px var(--glow-color);
        }

        .theme-toggle:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 30px var(--glow-color);
            background: var(--instagram-gradient);
            border: none;
        }

        .img-fluid {
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            transition: all 0.4s ease;
        }

        .img-fluid:hover {
            transform: scale(1.05) rotate(2deg);
            box-shadow: 0 15px 40px var(--glow-color);
        }

        .C0mplexButton a {
            background: var(--instagram-gradient) !important;
            border-radius: 15px !important;
            transition: all 0.3s ease !important;
            box-shadow: 0 10px 30px var(--glow-color) !important;
        }

        .C0mplexButton a:hover {
            transform: translateY(-3px) !important;
            box-shadow: 0 15px 40px var(--glow-color) !important;
        }

        .fixed-top {
            z-index: 1001;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        .row {
            margin-bottom: 30px;
        }

        [data-theme="light"] .card {
            color: #262626;
        }

        [data-theme="light"] .form-control {
            background: rgba(0, 0, 0, 0.05) !important;
        }

        [data-theme="light"] .form-control::placeholder {
            color: rgba(0, 0, 0, 0.4);
        }
    </style>
    <script>
        // Initialize theme on page load
        document.addEventListener('DOMContentLoaded', () => {
            const savedTheme = localStorage.getItem('theme') || 'dark';
            document.documentElement.setAttribute('data-theme', savedTheme);
            updateThemeButton(savedTheme);
        });

        function toggleTheme() {
            const body = document.documentElement;
            const currentTheme = body.getAttribute('data-theme');
            const newTheme = currentTheme === 'light' ? 'dark' : 'light';

            body.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);

            updateThemeButton(newTheme);
        }

        function updateThemeButton(theme) {
            const button = document.getElementById('themeButton');
            const icon = theme === 'light' ? 'fa-moon' : 'fa-sun';
            const text = theme === 'light' ? 'Dark Mode' : 'Light Mode';
            button.innerHTML = `<i class="fas ${icon}"></i> ${text}`;
        }
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.4/jquery.min.js" integrity="sha512-pumBsjNRGGqkPzKHndZMaAG+bir374sORyzM3uulLV14lN5LyykqNk8eEeUlUkB3U0M4FApyaHraT65ihJhDpQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link href='http://fonts.googleapis.com/css?family=Roboto:400,300,700,900|Roboto+Condensed:400,300,700' rel='stylesheet' type='text/css'>
    <button id="themeButton" class="theme-toggle" onclick="toggleTheme()">
        <i class="fas fa-moon"></i> Light Mode
    </button>
</head>
<body ng-app="App" ng-controller="InstagramDownloader" class="modal-open">
  <canvas id="threejs-bg"></canvas>

  <ins class="adsbygoogle"
  style="display:block; text-align:center;"
  data-ad-layout="in-article"
  data-ad-format="fluid"
  data-ad-client="ca-pub-7773722896374259"
  data-ad-slot="2303661293"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
  <ins class="adsbygoogle"
  style="display:block; text-align:center;"
  data-ad-layout="in-article"
  data-ad-format="fluid"
  data-ad-client="ca-pub-4137874891184814"
  data-ad-slot="6832564320"></ins>
  <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
  <div id="conn" style="visibility:hidden;position:absolute;margin-left:45%;margin-top:20%;z-index:9999">
      <img src="/static/img/buffering.gif" />
  </div>
  <input id="hh" type="text" class="fade hide" />
  <input type="text" class="fade hide" value="{{csrf_token}}" />
  <div class="container">
      <div class="C0mplexButton float-end">
          <a href="#" onclick="window.history.back(); return false;">
              <span></span>
              <span></span>
              <span></span>
              <span></span>
              X
          </a>
      </div>
      <div class="row">
          <div class="col"></div>
          <div class="col">
              <img src="/static/img/C0mplex.png" class="img-fluid" alt="...">
          </div>
          <div class="col"></div>
          <div class="col">
              <img src="/static/img/instagram.jpg" class="img-fluid" alt="...">
          </div>
          <div class="col"></div>
      </div>
        {% if request.LANGUAGE_CODE == 'uz' %}
        <div class="row">
            <div class="col">
                <div class="card text-white bg-dark mb-3">
                  <div class="card-header">
                    Instagram yuklab olish dasturi
                  </div>
                  <div class="card-body">
                        <h5 class="card-title">instagram yuklab olish konvertori</h5>
                        <p class="card-text">Instagram postlarini yoki teglarini yuklab olishga qodir oddiy veb-sayt.</p>
                        <div class="input-group mb-3">
                            <input type="text" ng-model="instagram_user_name" id="instagram_user_name" class="form-control" placeholder="Instagram foydalanuvchi nomi" aria-label="Instagram foydalanuvchi nomi" aria-describedby="button-addon2">
                            <button class="btn btn-outline-success" ng-click="Paste()" id="paste" type="button"><i class="fa fa-paste"></i> Joylashtirish</button>
                            <button class="btn btn-outline-warning" type="button" ng-click="instagram_downloader()" id="button-addon2"><i class="fa-solid fa-recycle"></i> Konvertatsiya qilish</button>
                        </div>
                  </div>
                </div>
            </div>
        </div>
        {% else %}
        {% if request.LANGUAGE_CODE == 'ru' %}
        <div class="row">
            <div class="col">
                <div class="card text-white bg-dark mb-3">
                  <div class="card-header">
                    Загрузчик Инстаграм
                  </div>
                  <div class="card-body">
                        <h5 class="card-title">конвертер загрузчика инстаграма</h5>
                        <p class="card-text">Простой веб-сайт, на котором можно загружать публикации из Instagram или отмечать их.</p>
                        <div class="input-group mb-3">
                            <input type="text" ng-model="instagram_user_name" id="instagram_user_name" class="form-control" placeholder="Имя пользователя Инстаграм" aria-label="Имя пользователя Инстаграм" aria-describedby="button-addon2">
                            <button class="btn btn-outline-success" ng-click="Paste()" id="paste" type="button"><i class="fa fa-paste"></i> Вставить</button>
                            <button class="btn btn-outline-warning" type="button" ng-click="instagram_downloader()" id="button-addon2"><i class="fa-solid fa-recycle"></i> Конвертировать</button>
                        </div>
                  </div>
                </div>
            </div>
        </div>
        {% else %}
        <div class="row">
            <div class="col">
                <div class="card text-white bg-dark mb-3">
                  <div class="card-header">
                      Instagram Downloader
                  </div>
                  <div class="card-body">
                        <h5 class="card-title">instagram downloader converter</h5>
                        <p class="card-text">A simple Website that is able to download Instagram posts or tagged.</p>
                        <div class="input-group mb-3">
                            <input type="text" ng-model="instagram_user_name" id="instagram_user_name" class="form-control" placeholder="Instagram user name" aria-label="Instagram user name" aria-describedby="button-addon2">
                            <button class="btn btn-outline-success" ng-click="Paste()" id="paste" type="button"><i class="fa fa-paste"></i> Paste</button>
                            <button class="btn btn-outline-warning" type="button" ng-click="instagram_downloader()" id="button-addon2"><i class="fa-solid fa-recycle"></i> Convert</button>
                        </div>
                  </div>
                </div>
            </div>
        </div>
        {% endif %}
        {% endif %}
      <div class="row">
          <div class="col">
              <!-- Yandex.RTB R-A-1963742-3 -->
              <div id="yandex_rtb_R-A-1963742-3"></div>
              <script>window.yaContextCb.push(()=>{
                Ya.Context.AdvManager.render({
                  renderTo: 'yandex_rtb_R-A-1963742-3',
                  blockId: 'R-A-1963742-3'
                })
              })</script>
          </div>
      </div>
  </div>
  {% include 'comment_form.html' %}
  <ins class="adsbygoogle"
    style="display:block; text-align:center;"
    data-ad-format="autorelaxed"
    data-ad-client="ca-pub-7773722896374259"
    data-ad-slot="2479701367"></ins>
<script>
    (adsbygoogle = window.adsbygoogle || []).push({});
</script>
  <ins class="adsbygoogle"
    style="display:block; text-align:center;"
    data-ad-format="autorelaxed"
    data-ad-client="ca-pub-4137874891184814"
    data-ad-slot="4202531555"></ins>
<script>
    (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<ins class="adsbygoogle"
style="display:block; text-align:center;"
data-ad-format="fluid"
data-ad-layout-key="-an-4i-cp+a2+21k"
data-ad-client="ca-pub-7773722896374259"
data-ad-slot="4679993061"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<ins class="adsbygoogle"
    style="display:block; text-align:center;"
    data-ad-format="fluid"
    data-ad-layout-key="-6t+ed+2i-1n-4w"
    data-ad-client="ca-pub-4137874891184814"
    data-ad-slot="7442938415"></ins>
<script>
    (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<!-- Display 1 -->
<ins class="adsbygoogle"
    style="display:block; text-align:center;"
    data-ad-client="ca-pub-7773722896374259"
    data-ad-slot="3869366477"
    data-ad-format="auto"
    data-full-width-responsive="true"></ins>
<script>
    (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<!-- 1 chi abzast Mobil -->
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-client="ca-pub-4137874891184814"
     data-ad-slot="2799587029"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
  {% include "includes/scroll_buttons.html" %}

  <script>
    // Three.js Instagram-themed Background Animation
    const canvas = document.getElementById('threejs-bg');
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
    const renderer = new THREE.WebGLRenderer({ canvas, alpha: true, antialias: true });

    renderer.setSize(window.innerWidth, window.innerHeight);
    renderer.setPixelRatio(window.devicePixelRatio);
    camera.position.z = 50;

    // Create Instagram-themed particles
    const particlesGeometry = new THREE.BufferGeometry();
    const particlesCount = 2500;
    const posArray = new Float32Array(particlesCount * 3);
    const colorArray = new Float32Array(particlesCount * 3);

    // Instagram gradient colors
    const colors = [
        new THREE.Color(0xf09433), // Orange
        new THREE.Color(0xe6683c), // Red-orange
        new THREE.Color(0xdc2743), // Red
        new THREE.Color(0xcc2366), // Pink-red
        new THREE.Color(0xbc1888), // Purple
    ];

    for(let i = 0; i < particlesCount * 3; i += 3) {
        posArray[i] = (Math.random() - 0.5) * 200;
        posArray[i + 1] = (Math.random() - 0.5) * 200;
        posArray[i + 2] = (Math.random() - 0.5) * 200;

        const color = colors[Math.floor(Math.random() * colors.length)];
        colorArray[i] = color.r;
        colorArray[i + 1] = color.g;
        colorArray[i + 2] = color.b;
    }

    particlesGeometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
    particlesGeometry.setAttribute('color', new THREE.BufferAttribute(colorArray, 3));

    const particlesMaterial = new THREE.PointsMaterial({
        size: 0.4,
        vertexColors: true,
        transparent: true,
        opacity: 0.8,
        blending: THREE.AdditiveBlending
    });

    const particlesMesh = new THREE.Points(particlesGeometry, particlesMaterial);
    scene.add(particlesMesh);

    // Create Instagram camera-like geometric shapes
    const geometries = [];

    // Add Torus (like camera lens)
    const torusGeometry = new THREE.TorusGeometry(12, 3, 16, 100);
    const torusMaterial = new THREE.MeshBasicMaterial({
        color: 0xe1306c,
        wireframe: true,
        transparent: true,
        opacity: 0.4
    });
    const torus = new THREE.Mesh(torusGeometry, torusMaterial);
    torus.position.set(-35, 25, -30);
    scene.add(torus);
    geometries.push(torus);

    // Add Sphere (camera body)
    const sphereGeometry = new THREE.SphereGeometry(8, 32, 32);
    const sphereMaterial = new THREE.MeshBasicMaterial({
        color: 0xf09433,
        wireframe: true,
        transparent: true,
        opacity: 0.3
    });
    const sphere = new THREE.Mesh(sphereGeometry, sphereMaterial);
    sphere.position.set(35, -25, -35);
    scene.add(sphere);
    geometries.push(sphere);

    // Add Icosahedron
    const icoGeometry = new THREE.IcosahedronGeometry(10, 0);
    const icoMaterial = new THREE.MeshBasicMaterial({
        color: 0xbc1888,
        wireframe: true,
        transparent: true,
        opacity: 0.35
    });
    const icosahedron = new THREE.Mesh(icoGeometry, icoMaterial);
    icosahedron.position.set(0, -35, -25);
    scene.add(icosahedron);
    geometries.push(icosahedron);

    // Add Dodecahedron
    const dodecaGeometry = new THREE.DodecahedronGeometry(7);
    const dodecaMaterial = new THREE.MeshBasicMaterial({
        color: 0xdc2743,
        wireframe: true,
        transparent: true,
        opacity: 0.35
    });
    const dodecahedron = new THREE.Mesh(dodecaGeometry, dodecaMaterial);
    dodecahedron.position.set(-25, -15, -40);
    scene.add(dodecahedron);
    geometries.push(dodecahedron);

    // Mouse interaction
    let mouseX = 0;
    let mouseY = 0;

    document.addEventListener('mousemove', (event) => {
        mouseX = (event.clientX / window.innerWidth) * 2 - 1;
        mouseY = -(event.clientY / window.innerHeight) * 2 + 1;
    });

    // Animation loop
    let time = 0;
    function animate() {
        requestAnimationFrame(animate);
        time += 0.001;

        // Rotate particles with wave effect
        particlesMesh.rotation.x += 0.0003;
        particlesMesh.rotation.y += 0.0005;

        // Animate particle positions
        const positions = particlesMesh.geometry.attributes.position.array;
        for(let i = 0; i < positions.length; i += 3) {
            positions[i + 1] += Math.sin(time + positions[i]) * 0.02;
        }
        particlesMesh.geometry.attributes.position.needsUpdate = true;

        // Rotate geometric shapes with different speeds
        geometries.forEach((geo, index) => {
            geo.rotation.x += 0.005 * (index + 1) * 0.4;
            geo.rotation.y += 0.008 * (index + 1) * 0.4;
            geo.position.y += Math.sin(time * 2 + index) * 0.08;

            // Pulsating effect
            const scale = 1 + Math.sin(time * 3 + index) * 0.1;
            geo.scale.set(scale, scale, scale);
        });

        // Mouse interaction
        camera.position.x += (mouseX * 8 - camera.position.x) * 0.05;
        camera.position.y += (mouseY * 8 - camera.position.y) * 0.05;
        camera.lookAt(scene.position);

        renderer.render(scene, camera);
    }

    animate();

    // Handle window resize
    window.addEventListener('resize', () => {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
    });

    // Update theme-based colors
    function updateThreeJSTheme() {
        const theme = document.documentElement.getAttribute('data-theme');
        if (theme === 'light') {
            particlesMaterial.opacity = 0.6;
            torusMaterial.opacity = 0.3;
            sphereMaterial.opacity = 0.25;
            icoMaterial.opacity = 0.25;
            dodecaMaterial.opacity = 0.25;
        } else {
            particlesMaterial.opacity = 0.8;
            torusMaterial.opacity = 0.4;
            sphereMaterial.opacity = 0.3;
            icoMaterial.opacity = 0.35;
            dodecaMaterial.opacity = 0.35;
        }
    }

    // Listen for theme changes
    const observer = new MutationObserver(updateThreeJSTheme);
    observer.observe(document.documentElement, { attributes: true, attributeFilter: ['data-theme'] });
</script>
</body>
  </html>