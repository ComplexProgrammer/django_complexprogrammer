<!DOCTYPE html>
<html>
    <head>
        <title>Projects</title>
        <link rel="stylesheet" href="/static/css/C0mplexButtonStyle.css">
        <link rel="stylesheet" href="/static/css/style.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <style>
            .project-card {
                margin-bottom: 20px;
                box-shadow: 0 4px 6px rgba(0,0,0,0.1);
                transition: transform 0.3s ease;
            }
            .project-card:hover {
                transform: translateY(-5px);
            }
            .comment-form {
                margin: 20px 0;
                padding: 20px;
                background: #f8f9fa;
                border-radius: 8px;
            }
            .comment {
                margin: 10px 0;
                padding: 15px;
                background: white;
                border-radius: 8px;
                box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            }
            .comment-meta {
                color: #666;
                font-size: 0.9em;
                margin-block-end: 8px;
            }
            .reply-form {
                margin: 10px 0 10px 20px;
                display: none;
            }
            .replies {
                margin-inline-start: 40px;
            }
            .replies .comment {
                border-inline-start: 2px solid #ddd;
            }
            .comment-actions {
                margin-block-start: 10px;
            }
            .comment-actions button {
                margin-inline-end: 10px;
            }
        </style>
    </head>
<body>
    <div class="container my-5">
        <h1 class="mb-4">All Projects</h1>
        
        <div class="row">
            {%for item in projects%}
            <div class="col-md-4">
                <div class="card project-card">
                    {% if item.image %}
                    <img src="/media/{{item.image}}" class="card-img-top" alt="{{item.title}}">
                    {% endif %}
                    <div class="card-body">
                        <h5 class="card-title">{{item.title}}</h5>
                        <p class="card-text">{{item.sub_title}}</p>
                        <p class="card-text"><small class="text-muted">Category: {{item.category}}</small></p>
                        <div class="C0mplexButton Success">
                            <a href="{% url 'item' item.pk %}" class="stretched-link">
                                <span></span>
                                <span></span>
                                <span></span>
                                <span></span>
                                <i class="material-icons">&#9758;</i>
                                View Project
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            {%endfor%}
        </div>

        {% include 'comment_form.html' %}
    </div>

    <script>
        function toggleReplyForm(formId) {
            const form = document.getElementById(formId);
            if (form.style.display === 'none' || !form.style.display) {
                form.style.display = 'block';
            } else {
                form.style.display = 'none';
            }
        }
    </script>
</body>
</html>