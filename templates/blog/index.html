{% load i18n %}
{% load static %}
{% comment %} {% get_current_language as LANGUAGE_CODE %}
{% get_available_languages as LANGUAGES %}
{% get_language_info_list for LANGUAGES as languages %}
<div class="fixed-top">
  <div class="position-relative" style="margin-block-start:50px;">
    <div class="position-absolute top-0 end-0 translate-middle">
      <div class="container">
        <div class="row">
          <div class="col">
            <form action="{% url 'set_language' %}" method="POST">
              {% csrf_token %}
              <select class="form-select form-select-lg mb-3" aria-label=".form-select-lg example" name="language" onchange="this.form.submit()">
                {% for language in languages %}
                <option value="{{ language.code }}"{% if language.code == LANGUAGE_CODE %} selected{% endif %}>
                  {{ language.name_local }}
                  {% if LANGUAGE_CODE == 'en' %}
                  <img src="https://ipapi.co/static/images/flags/us.png" />
                  {% else %}
                  <img src="https://ipapi.co/static/images/flags/{{LANGUAGE_CODE}}.png" />
                  {% endif %}
                </option>
                {% endfor %}
              </select>
            </form>
          </div>
          <div class="col-1">
            {% if LANGUAGE_CODE == 'en' %}
            <img style="object-fit: cover;" src="https://ipapi.co/static/images/flags/us.png" />
            {% else %}
            <img style="object-fit: cover;" src="https://ipapi.co/static/images/flags/{{LANGUAGE_CODE}}.png" />
            {% endif %}
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="fixed-top">
  <div class="position-relative">
      <div class="position-absolute end-0">
          <div class="C0mplexButton float-end">
            <a href="#" onclick="window.history.back(); return false;">
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                X
              </a>
          </div>
      </div>
  </div>
</div> {% endcomment %}
<!DOCTYPE html>
<html lang="en">
    <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="theme-color" content="#317EFB"/>
      {% if request.GET.id %}
      <meta name="description" content="{{post.name_uz_uz}}"/>
      <meta property="og:image" content="/media/{{post.image}}"/>
      {% else %}
      <meta name="description" content="Complex Programmer - Online services (Tests, IP search, Latin - Cyrillic text translate, instagram downloader, youtube downloader, complex password generator, online games, ...)"/>
      <meta property="og:image" content="/static/img/hero-bg.png"/>
      {% endif %}
      <link rel="icon" sizes="16x16" href="https://complexprogrammer.uz/static/img/favicon.ico">
      <link rel="manifest" href="/static/manifest.json">
      {% comment %} <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"> {% endcomment %}
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
      <link rel="stylesheet" href="/static/css/C0mplexButtonStyle.css">
      <link rel="stylesheet" href="/static/css/blog/style.css">
      <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7773722896374259"
      crossorigin="anonymous"></script>
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
      <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

      <style>
        /* Three.js Canvas Background - Blog Theme */
        #threejs-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            z-index: -1;
            opacity: 0.25;
        }

        [data-theme="dark"] #threejs-canvas {
            opacity: 0.35;
        }

        @media (max-width: 768px) {
            #threejs-canvas {
                opacity: 0.18;
            }
        }
      </style>

      <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-8DHWL20H58"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-8DHWL20H58');
</script>
        <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NW763C2');</script>
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.6/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.6.6/firebase-analytics.js";
  const firebaseConfig = {
    apiKey: "AIzaSyDpWaFi5QLTNc-yY0ieMKJtGOmbm2ofBm4",
    authDomain: "c0mplex.firebaseapp.com",
    projectId: "c0mplex",
    storageBucket: "c0mplex.appspot.com",
    messagingSenderId: "755681568857",
    appId: "1:755681568857:web:102b1b733df55baefe2948",
    measurementId: "G-H8XGTS4B9J"
  };
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
</script>
      <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
        
        :root {
            --bg-color: #fafbfc;
            --text-color: #1a1a1a;
            --card-bg: rgba(255, 255, 255, 0.8);
            --border-color: rgba(255, 255, 255, 0.2);
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --accent-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --card-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            --glass-bg: rgba(255, 255, 255, 0.25);
            --glass-border: rgba(255, 255, 255, 0.18);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        [data-theme="dark"] {
            --bg-color: #0f0f23;
            --text-color: #ffffff;
            --card-bg: rgba(30, 30, 46, 0.8);
            --border-color: rgba(255, 255, 255, 0.1);
            --card-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            --glass-bg: rgba(30, 30, 46, 0.4);
            --glass-border: rgba(255, 255, 255, 0.1);
            --link-color: #8ab4f8;
            --link-hover-color: #aecbfa;
            --pagination-bg: #333;
            --pagination-border: #444;
            --list-group-bg: #2d2d2d;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            overflow-x: hidden;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Override Bootstrap nav-link for blog cards */
        .blog-card .nav-link {
            color: var(--text-color) !important;
            padding: 0 !important;
        }

        .blog-card .card-title .nav-link,
        .blog-card .card-text .nav-link {
            color: var(--text-color) !important;
        }

        .blog-card:hover .card-title .nav-link,
        .blog-card:hover .card-text .nav-link {
            color: rgba(255, 255, 255, 0.95) !important;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(120, 219, 255, 0.2) 0%, transparent 50%);
            z-index: -1;
            pointer-events: none;
        }

        /* Comment section fixes */
        .container {
            position: relative;
            z-index: 1;
        }

        .card {
            position: relative;
            z-index: 2;
        }

        /* Ensure comment forms are clickable */
        .form-control, .btn, input, textarea, button {
            pointer-events: auto !important;
            position: relative;
            z-index: 10;
        }

        /* Comment form specific fixes */
        #comment-form-main {
            position: relative;
            z-index: 100;
        }

        .reply-form-container {
            position: relative;
            z-index: 101;
        }

        .reply-form-active {
            position: relative;
            z-index: 102;
        }

        /* Additional comment form fixes */
        .form-control:focus {
            z-index: 103;
            position: relative;
        }

        .btn:focus {
            z-index: 103;
            position: relative;
        }

        /* Ensure all interactive elements are clickable */
        input, textarea, button, select, a {
            pointer-events: auto !important;
            position: relative;
            z-index: 10;
        }

        /* Fix for comment cards */
        .card .card-body {
            position: relative;
            z-index: 2;
        }

        /* Ensure reply buttons work */
        .reply-btn {
            position: relative;
            z-index: 15;
            pointer-events: auto !important;
        }

        .card {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 24px;
            box-shadow: var(--card-shadow);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--primary-gradient);
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 1;
        }

        .card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
            border-color: rgba(39, 93, 201, 0.3);
        }

        .card:hover::before {
            opacity: 0.8;
        }

        .card .row {
            position: relative;
            z-index: 2;
        }

        [data-theme="dark"] .nav-link {
            color: var(--link-color);
        }

        [data-theme="dark"] .nav-link:hover {
            color: var(--link-hover-color);
        }

        [data-theme="dark"] .link-info {
            color: var(--link-color) !important;
        }

        [data-theme="dark"] .link-info:hover {
            color: var(--link-hover-color) !important;
        }

        [data-theme="dark"] .list-group-item {
            background-color: var(--list-group-bg);
            border-color: var(--border-color);
            color: var(--text-color);
        }

        [data-theme="dark"] .page-link {
            background-color: var(--pagination-bg);
            border-color: var(--pagination-border);
            color: var(--link-color);
        }

        [data-theme="dark"] .page-link:hover {
            background-color: var(--card-bg);
            border-color: var(--pagination-border);
            color: var(--link-hover-color);
        }

        [data-theme="dark"] .page-item.active .page-link {
            background-color: var(--link-color);
            border-color: var(--link-color);
            color: var(--bg-color);
        }

        [data-theme="dark"] .text-muted {
            color: #999 !important;
        }

        [data-theme="dark"] .bg-body {
            background-color: var(--card-bg) !important;
        }

        /* Dark mode card hover fixes */
        [data-theme="dark"] .card:hover .card-title {
            
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);
        }

        [data-theme="dark"] .card:hover .card-title a {
            
        }

        [data-theme="dark"] .card:hover .card-text {
            color: rgba(255, 255, 255, 0.95);
            text-shadow: 0 1px 4px rgba(0, 0, 0, 0.3);
        }

        [data-theme="dark"] .card:hover .card-text a {
            color: rgba(255, 255, 255, 0.95) !important;
        }

        /* Add table styles for dark mode */
        [data-theme="dark"] .table {
            color: var(--text-color);
        }

        [data-theme="dark"] .table-hover tbody tr:hover {
            background-color: rgba(255, 255, 255, 0.075);
            color: var(--text-color);
        }

        [data-theme="dark"] .table thead th {
            color: var(--text-color);
            border-bottom-color: var(--border-color);
        }

        [data-theme="dark"] .table td {
            border-color: var(--border-color);
        }

        .theme-toggle {
            position: fixed;
            top: 30px;
            right: 30px;
            padding: 12px 20px;
            border-radius: 50px;
            border: 1px solid var(--glass-border);
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            color: var(--text-color);
            cursor: pointer;
            z-index: 1000;
            font-weight: 500;
            font-size: 14px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: var(--card-shadow);
            transform: translateZ(0);
            will-change: transform;
        }

        .theme-toggle:hover {
            transform: translateY(-2px) translateZ(0);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
            color: white;
        }

        /* Hero Section */
        .hero-section {
            padding: 80px 0 60px;
            margin-bottom: 50px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .hero-section::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 30% 20%, rgba(255, 255, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 70% 80%, rgba(255, 255, 255, 0.05) 0%, transparent 50%);
            z-index: 0;
        }

        .hero-content {
            position: relative;
            z-index: 1;
            max-width: 800px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .hero-title {
            font-size: clamp(2.5rem, 6vw, 4rem);
            font-weight: 800;
            margin-bottom: 20px;
            background: linear-gradient(135deg, #ffffff 0%, #f0f0f0 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        .hero-subtitle {
            font-size: clamp(1.1rem, 3vw, 1.3rem);
            color: rgba(255, 255, 255, 0.9);
            font-weight: 400;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        /* Blog Cards */
        .blog-card {
            margin-bottom: 30px;
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards;
        }

        .blog-card:nth-child(1) { animation-delay: 0.1s; }
        .blog-card:nth-child(2) { animation-delay: 0.2s; }
        .blog-card:nth-child(3) { animation-delay: 0.3s; }
        .blog-card:nth-child(4) { animation-delay: 0.4s; }
        .blog-card:nth-child(5) { animation-delay: 0.5s; }

        .card-img {
            height: 200px;
            object-fit: cover;
            border-radius: 16px 16px 0 0;
            transition: transform 0.4s ease;
        }

        .card:hover .card-img {
            transform: scale(1.05);
        }

        .card-title {
            color: var(--text-color);
            font-size: 1.5rem;
            font-weight: 800;
            margin-bottom: 1rem;
            line-height: 1.3;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            z-index: 3;
            letter-spacing: -0.02em;
            background: none !important;
            background-image: none !important;
            -webkit-background-clip: unset !important;
            background-clip: unset !important;
            -webkit-text-fill-color: currentColor !important;
        }

        /* Card title link styles */
        .card-title a.nav-link,
        .card-title a {
            color: var(--text-color) !important;
            text-decoration: none !important;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            opacity: 1 !important;
            display: inline-block;
            position: relative;
        }

        .card-title a::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 0;
            height: 2px;
            transition: width 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .card:hover .card-title {
            transform: translateY(-3px);
        }

        .card:hover .card-title a::after {
            width: 100%;
        }

        .card:hover .card-title a.nav-link,
        .card:hover .card-title a {
            color: rgba(255, 255, 255, 0.98) !important;
            text-decoration: none !important;
            text-shadow: 0 2px 12px rgba(0, 0, 0, 0.3);
        }

        .card-text {
            color: var(--text-color);
            opacity: 0.8;
            font-size: 1rem;
            line-height: 1.7;
            margin-bottom: 1.5rem;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            z-index: 3;
        }

        /* Card text link styles */
        .card-text a.nav-link,
        .card-text a {
            color: var(--text-color) !important;
            opacity: 0.8 !important;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            text-decoration: none !important;
        }

        .card:hover .card-text {
            color: rgba(255, 255, 255, 0.95);
            opacity: 1;
            text-shadow: 0 1px 6px rgba(0, 0, 0, 0.2);
        }

        .card:hover .card-text a.nav-link,
        .card:hover .card-text a {
            color: rgba(255, 255, 255, 0.95) !important;
            opacity: 1 !important;
            text-decoration: none !important;
        }

        /* Sidebar */
        .sidebar {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 24px;
            padding: 2rem;
            box-shadow: var(--card-shadow);
            position: sticky;
            top: 100px;
        }

        .sidebar h2 {
            color: var(--text-color);
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            position: relative;
        }

        .sidebar h2::after {
            content: "";
            position: absolute;
            bottom: -8px;
            left: 0;
            width: 60px;
            height: 3px;
            background: var(--accent-gradient);
            border-radius: 2px;
        }

        .list-group-item {
            background: transparent;
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            margin-bottom: 0.5rem;
            transition: all 0.3s ease;
        }

        .list-group-item:hover {
            background: var(--glass-bg);
            transform: translateX(5px);
        }

        .badge {
            background: var(--accent-gradient);
            color: white;
            font-weight: 600;
        }

        /* Pagination */
        .pagination {
            justify-content: center;
            margin-top: 2rem;
        }

        .page-link {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            color: var(--text-color);
            border-radius: 12px;
            margin: 0 2px;
            transition: all 0.3s ease;
        }

        .page-link:hover {
            background: var(--primary-gradient);
            color: white;
            transform: translateY(-2px);
        }

        .page-item.active .page-link {
            background: var(--primary-gradient);
            border-color: transparent;
            color: white;
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideInFromLeft {
            from {
                opacity: 0;
                transform: translateX(-50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes slideInFromRight {
            from {
                opacity: 0;
                transform: translateX(50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .slide-in-left {
            animation: slideInFromLeft 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards;
        }

        .slide-in-right {
            animation: slideInFromRight 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .hero-section {
                padding: 60px 0 40px;
            }
            
            .sidebar {
                position: static;
                margin-top: 2rem;
            }
            
            .theme-toggle {
                top: 20px;
                right: 20px;
                padding: 10px 16px;
                font-size: 13px;
                transform: translateZ(0);
                will-change: transform;
            }

            .theme-toggle:hover {
                transform: translateY(-2px) translateZ(0);
            }
        }

        /* CRITICAL FIX: Force nav-link colors in blog cards */
        .blog-card h5.card-title a.nav-link,
        .blog-card p.card-text a.nav-link {
            color: var(--text-color) !important;
        }

        .blog-card:hover h5.card-title a.nav-link,
        .blog-card:hover p.card-text a.nav-link {
            color: rgba(255, 255, 255, 0.95) !important;
        }

        /* Specific fix for blog title and text links */
        .blog-title-link,
        .blog-text-link {
            color: var(--text-color) !important;
            opacity: 1 !important;
            -webkit-text-fill-color: currentColor !important;
            text-fill-color: currentColor !important;
            background-clip: unset !important;
            -webkit-background-clip: unset !important;
        }

        [data-theme="dark"] .blog-title-link,
        [data-theme="dark"] .blog-text-link {
            color: #ffffff !important;
            -webkit-text-fill-color: #ffffff !important;
        }

        [data-theme="light"] .blog-title-link,
        [data-theme="light"] .blog-text-link {
            color: #1a1a1a !important;
            -webkit-text-fill-color: #1a1a1a !important;
        }

        .blog-card:hover .blog-title-link,
        .blog-card:hover .blog-text-link {
            color: rgba(255, 255, 255, 0.98) !important;
            -webkit-text-fill-color: rgba(255, 255, 255, 0.98) !important;
        }

        /* Override any card-title webkit properties */
        .blog-card .card-title,
        .blog-card .card-text {
            -webkit-text-fill-color: currentColor !important;
            background-clip: unset !important;
            -webkit-background-clip: unset !important;
        }

        /* Modern Blog Card Body Styles */
        .blog-post-header {
            margin-bottom: 1rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            z-index: 3;
        }

        [data-theme="dark"] .blog-post-header {
            border-bottom-color: rgba(255, 255, 255, 0.1);
        }

        [data-theme="light"] .blog-post-header {
            border-bottom-color: rgba(0, 0, 0, 0.08);
        }

        .blog-meta {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-top: 0.5rem;
        }

        .blog-date {
            display: inline-flex;
            align-items: center;
            gap: 0.4rem;
            font-size: 0.85rem;
            color: var(--text-color);
            opacity: 0.7;
            transition: all 0.3s ease;
            position: relative;
            z-index: 3;
        }

        .blog-date i {
            font-size: 0.9rem;
        }

        .blog-card:hover .blog-date {
            opacity: 0.9;
            color: rgba(255, 255, 255, 0.9);
        }

        .blog-excerpt {
            margin-bottom: 1.5rem;
            min-height: 3.5rem;
        }

        /* Modern Read More Button */
        .blog-actions {
            display: flex;
            align-items: center;
            gap: 1rem;
            position: relative;
            z-index: 3;
        }

        .blog-read-more {
            display: inline-flex;
            align-items: center;
            gap: 0.6rem;
            padding: 0.75rem 1.5rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #ffffff !important;
            border-radius: 12px;
            text-decoration: none !important;
            font-weight: 600;
            font-size: 0.95rem;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
            position: relative;
            overflow: hidden;
        }

        .blog-read-more::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.6s ease;
        }

        .blog-read-more:hover::before {
            left: 100%;
        }

        .blog-read-more:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.5);
            background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
        }

        .read-more-icon {
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            font-size: 1.1rem;
        }

        .blog-read-more:hover .read-more-icon {
            transform: translateX(5px);
        }

        [data-theme="light"] .blog-read-more {
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.25);
        }

        [data-theme="light"] .blog-read-more:hover {
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }

        /* Active Category Styles */
        .category-btn {
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border: 2px solid transparent;
        }

        .category-active {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%) !important;
            border-color: #10b981 !important;
            box-shadow: 0 4px 20px rgba(16, 185, 129, 0.4) !important;
            transform: scale(1.05);
            font-weight: 700;
        }

        .category-active:hover {
            background: linear-gradient(135deg, #059669 0%, #047857 100%) !important;
            box-shadow: 0 6px 25px rgba(16, 185, 129, 0.5) !important;
        }

        .category-btn:not(.category-active):hover {
            transform: translateX(5px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
        }

        [data-theme="dark"] .category-active {
            box-shadow: 0 4px 20px rgba(16, 185, 129, 0.6) !important;
        }

        [data-theme="light"] .category-active {
            box-shadow: 0 4px 20px rgba(16, 185, 129, 0.3) !important;
        }

        /* Modern Breadcrumb Styles */
        .modern-breadcrumb {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 16px;
            padding: 1rem 1.5rem;
            box-shadow: var(--card-shadow);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .breadcrumb-list {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            gap: 0.75rem;
            list-style: none;
            margin: 0;
            padding: 0;
        }

        .breadcrumb-item {
            display: flex;
            align-items: center;
        }

        .breadcrumb-link {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: transparent;
            color: var(--text-color);
            text-decoration: none;
            border-radius: 10px;
            font-size: 0.95rem;
            font-weight: 500;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .breadcrumb-link i {
            font-size: 1.1rem;
            transition: transform 0.3s ease;
        }

        .breadcrumb-link:hover {
            background: var(--primary-gradient);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .breadcrumb-link:hover i {
            transform: scale(1.1) rotate(5deg);
        }

        .breadcrumb-link.active {
            background: var(--primary-gradient);
            color: white;
            font-weight: 600;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }

        .breadcrumb-separator {
            display: flex;
            align-items: center;
            color: var(--text-color);
            opacity: 0.5;
            font-size: 0.9rem;
        }

        [data-theme="dark"] .breadcrumb-link {
            color: var(--text-color);
        }

        [data-theme="dark"] .breadcrumb-link:hover {
            color: white;
        }

        [data-theme="dark"] .breadcrumb-link.active {
            color: white;
        }

        /* Responsive breadcrumb */
        @media (max-width: 768px) {
            .modern-breadcrumb {
                padding: 0.75rem 1rem;
            }

            .breadcrumb-list {
                gap: 0.5rem;
            }

            .breadcrumb-link {
                padding: 0.4rem 0.75rem;
                font-size: 0.85rem;
            }

            .breadcrumb-link span {
                display: none;
            }

            .breadcrumb-link i {
                font-size: 1rem;
            }

            .breadcrumb-separator {
                font-size: 0.75rem;
            }
        }

        /* Breadcrumb animation */
        @keyframes breadcrumbSlideIn {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .breadcrumb-item {
            animation: breadcrumbSlideIn 0.4s cubic-bezier(0.4, 0, 0.2, 1) forwards;
        }

        .breadcrumb-item:nth-child(1) { animation-delay: 0.1s; opacity: 0; }
        .breadcrumb-item:nth-child(2) { animation-delay: 0.15s; opacity: 0; }
        .breadcrumb-item:nth-child(3) { animation-delay: 0.2s; opacity: 0; }
        .breadcrumb-item:nth-child(4) { animation-delay: 0.25s; opacity: 0; }
        .breadcrumb-item:nth-child(5) { animation-delay: 0.3s; opacity: 0; }
        .breadcrumb-item:nth-child(6) { animation-delay: 0.35s; opacity: 0; }
        .breadcrumb-item:nth-child(7) { animation-delay: 0.4s; opacity: 0; }

        /* Copy Protection Styles */
        .no-select {
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            -webkit-touch-callout: none;
        }

        /* Visual feedback for copy attempt */
        .copy-warning {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255, 59, 48, 0.95);
            color: white;
            padding: 1.5rem 2.5rem;
            border-radius: 16px;
            font-size: 1.1rem;
            font-weight: 600;
            z-index: 10000;
            backdrop-filter: blur(20px);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
            animation: warningPulse 0.5s ease;
            pointer-events: none;
        }

        @keyframes warningPulse {
            0%, 100% { transform: translate(-50%, -50%) scale(1); }
            50% { transform: translate(-50%, -50%) scale(1.05); }
        }

        /* Watermark overlay */
        .content-watermark {
            position: relative;
        }

        .content-watermark::before {
            content: 'Complex Programmer';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(-45deg);
            font-size: 3rem;
            font-weight: 900;
            color: var(--text-color);
            opacity: 0.03;
            pointer-events: none;
            white-space: nowrap;
            z-index: 1;
        }
    </style>
      <script>
        // Initialize theme on page load
        document.addEventListener('DOMContentLoaded', () => {
            const savedTheme = localStorage.getItem('theme') || 'light';
            document.documentElement.setAttribute('data-theme', savedTheme);
            updateThemeButton(savedTheme);

            // Initialize animations
            initializeAnimations();
            initializeScrollEffects();

            // Initialize copy protection
            initCopyProtection();
        });

        // Copy Protection Functions
        function initCopyProtection() {
            // Add no-select class to content areas
            const contentAreas = document.querySelectorAll('.card-body, .card-text, .card-title');
            contentAreas.forEach(el => el.classList.add('no-select'));

            // Prevent right-click on content
            document.addEventListener('contextmenu', function(e) {
                if (e.target.closest('.card-body, .card-text, .card-title')) {
                    e.preventDefault();
                    showCopyWarning('Matnni nusxalash taqiqlangan!');
                    return false;
                }
            });

            // Prevent copy via Ctrl+C / Cmd+C
            document.addEventListener('copy', function(e) {
                const selection = window.getSelection().toString();
                if (selection.length > 0 && e.target.closest('.card-body, .card-text, .card-title')) {
                    e.preventDefault();
                    showCopyWarning('Matn nusxalash cheklangan!');
                    return false;
                }
            });

            // Prevent cut
            document.addEventListener('cut', function(e) {
                if (e.target.closest('.card-body, .card-text, .card-title')) {
                    e.preventDefault();
                    showCopyWarning('Matnni kesish mumkin emas!');
                    return false;
                }
            });

            // Prevent keyboard shortcuts
            document.addEventListener('keydown', function(e) {
                // Ctrl+C, Ctrl+X, Ctrl+A, Ctrl+U (view source), F12 (dev tools)
                if ((e.ctrlKey || e.metaKey) &&
                    (e.key === 'c' || e.key === 'C' ||
                     e.key === 'x' || e.key === 'X' ||
                     e.key === 'a' || e.key === 'A' ||
                     e.key === 'u' || e.key === 'U')) {
                    if (e.target.closest('.card-body, .card-text, .card-title')) {
                        e.preventDefault();
                        showCopyWarning('Bu amal cheklangan!');
                        return false;
                    }
                }

                // Prevent F12 and Ctrl+Shift+I (dev tools)
                if (e.key === 'F12' ||
                    ((e.ctrlKey || e.metaKey) && e.shiftKey &&
                     (e.key === 'I' || e.key === 'i' ||
                      e.key === 'J' || e.key === 'j' ||
                      e.key === 'C' || e.key === 'c'))) {
                    e.preventDefault();
                    showCopyWarning('Developer tools ochish taqiqlangan!');
                    return false;
                }
            });

            // Prevent drag selection
            document.addEventListener('mousedown', function(e) {
                if (e.target.closest('.card-body, .card-text, .card-title')) {
                    e.target.addEventListener('dragstart', function(event) {
                        event.preventDefault();
                        return false;
                    });
                }
            });
        }

        // Show copy warning message
        function showCopyWarning(message) {
            const warning = document.createElement('div');
            warning.className = 'copy-warning';
            warning.innerHTML = `<i class="bi bi-shield-x"></i> ${message}`;
            document.body.appendChild(warning);

            setTimeout(() => {
                warning.style.opacity = '0';
                warning.style.transform = 'translate(-50%, -50%) scale(0.8)';
                warning.style.transition = 'all 0.3s ease';

                setTimeout(() => {
                    warning.remove();
                }, 300);
            }, 2000);
        }

        function toggleTheme() {
            const body = document.documentElement;
            const currentTheme = body.getAttribute('data-theme');
            const newTheme = currentTheme === 'light' ? 'dark' : 'light';
            
            // Add smooth transition
            body.style.transition = 'all 0.5s cubic-bezier(0.4, 0, 0.2, 1)';
            
            setTimeout(() => {
                body.setAttribute('data-theme', newTheme);
                localStorage.setItem('theme', newTheme);
                updateThemeButton(newTheme);
            }, 100);
            
            setTimeout(() => {
                body.style.transition = '';
            }, 600);
        }

        function updateThemeButton(theme) {
            const button = document.getElementById('themeButton');
            const icon = theme === 'light' ? 'fa-moon' : 'fa-sun';
            const text = theme === 'light' ? 'Dark Mode' : 'Light Mode';
            
            // Smooth button animation without position change
            button.style.transform = 'scale(0.95) translateZ(0)';
            button.style.transition = 'transform 0.15s ease';
            
            setTimeout(() => {
                button.innerHTML = `<i class="fas ${icon}"></i> ${text}`;
                button.style.transform = 'scale(1) translateZ(0)';
            }, 150);
            
            setTimeout(() => {
                button.style.transition = '';
            }, 300);
        }

        // Advanced scroll animations with Intersection Observer
        function initializeAnimations() {
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                        entry.target.classList.add('animate-in');
                    }
                });
            }, observerOptions);

            // Observe all animated elements
            document.querySelectorAll('.blog-card, .sidebar').forEach(el => {
                observer.observe(el);
            });
        }

        // Scroll effects
        function initializeScrollEffects() {
            let ticking = false;

            function updateScrollEffects() {
                const scrolled = window.pageYOffset;
                const parallax = document.querySelector('.hero-section');
                
                if (parallax) {
                    const speed = scrolled * 0.5;
                    parallax.style.transform = `translateY(${speed}px)`;
                }
                
                ticking = false;
            }

            function requestTick() {
                if (!ticking) {
                    requestAnimationFrame(updateScrollEffects);
                    ticking = true;
                }
            }

            window.addEventListener('scroll', requestTick);
        }

        // Add ripple effect to buttons (excluding form elements)
        document.addEventListener('click', function(e) {
            // Skip ripple effect for form elements to avoid interference
            if (e.target.matches('input, textarea, select, button[type="submit"], .form-control')) {
                return;
            }
            
            if (e.target.matches('.btn:not([type="submit"]), .theme-toggle, .card:not(.reply-form-active)')) {
                const ripple = document.createElement('span');
                const rect = e.target.getBoundingClientRect();
                const size = Math.max(rect.width, rect.height);
                const x = e.clientX - rect.left - size / 2;
                const y = e.clientY - rect.top - size / 2;
                
                ripple.style.cssText = `
                    position: absolute;
                    width: ${size}px;
                    height: ${size}px;
                    left: ${x}px;
                    top: ${y}px;
                    background: rgba(255, 255, 255, 0.3);
                    border-radius: 50%;
                    transform: scale(0);
                    animation: ripple 0.6s ease-out;
                    pointer-events: none;
                    z-index: 5;
                `;
                
                // Ensure parent has relative positioning
                if (getComputedStyle(e.target).position === 'static') {
                    e.target.style.position = 'relative';
                }
                
                e.target.appendChild(ripple);
                
                setTimeout(() => {
                    ripple.remove();
                }, 600);
            }
        });

        // Add CSS for ripple animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes ripple {
                to {
                    transform: scale(4);
                    opacity: 0;
                }
            }
            
            .animate-in {
                animation: slideInUp 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards;
            }
            
            @keyframes slideInUp {
                from {
                    opacity: 0;
                    transform: translateY(30px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }
        `;
        document.head.appendChild(style);
    </script>
      <title>My Blog</title>
    </head>
    <body>
      <!-- Three.js Background Canvas - Blog Theme -->
      <canvas id="threejs-canvas"></canvas>

      <button id="themeButton" class="theme-toggle" onclick="toggleTheme()">
          <i class="fas fa-sun"></i> Dark Mode
      </button>
      <ins class="adsbygoogle"
        style="display:block; text-align:center;"
        data-ad-layout="in-article"
        data-ad-format="fluid"
        data-ad-client="ca-pub-7773722896374259"
        data-ad-slot="2303661293"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
      <!-- Navbar -->
      {% comment %} <nav class="navbar navbar-expand-lg navbar-light bg-light">
          <div class="container">
              <a class="navbar-brand" href="#">My Blog</a>
              <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                  <span class="navbar-toggler-icon"></span>
              </button>
              <div class="collapse navbar-collapse" id="navbarNav">
                  <ul class="navbar-nav ml-auto">
                      <li class="nav-item">
                          <a class="nav-link" href="#">Bosh Sahifa</a>
                      </li>
                      <li class="nav-item">
                          <a class="nav-link" href="#">Maqolalar</a>
                      </li>
                      <li class="nav-item">
                          <a class="nav-link" href="#">Biz haqimizda</a>
                      </li>
                      <!-- Boshqa bo'limlar qo'shishingiz mumkin -->
                  </ul>
              </div>
          </div>
      </nav> {% endcomment %}

      <!-- Maqolalar sehnasi -->
      <div class="container" style="margin-block-end:100px">
          <div class="row">
              <div class="col-md-8">
                <!-- Modern Breadcrumb Navigation -->
                <nav aria-label="breadcrumb" class="mb-4">
                  <div class="modern-breadcrumb">
                    <ol class="breadcrumb-list">
                      <li class="breadcrumb-item">
                        <a href='/blog' class="breadcrumb-link">
                          <i class="bi bi-house-door"></i>
                          <span>Bosh sahifa</span>
                        </a>
                      </li>
                      <li class="breadcrumb-separator">
                        <i class="bi bi-chevron-right"></i>
                      </li>
                      <li class="breadcrumb-item">
                        <a href='/blog' class="breadcrumb-link {% if not categorie %}active{% endif %}">
                          <i class="bi bi-journal-text"></i>
                          <span>Barcha maqolalar</span>
                        </a>
                      </li>
                      {%if categorie%}
                      <li class="breadcrumb-separator">
                        <i class="bi bi-chevron-right"></i>
                      </li>
                      <li class="breadcrumb-item">
                        <a href='/blog?categorie_id={{categorie.id}}{% if request.GET.page %}&page={{ request.GET.page }}{% endif %}' class="breadcrumb-link active">
                          <i class="bi bi-tag"></i>
                          <span>{{categorie.name_uz_uz}}</span>
                        </a>
                      </li>
                      {%endif%}
                    </ol>
                  </div>
                </nav>
                {% if id == 0 %}
                {% if posts.paginator.num_pages > 1 %}
                <nav aria-label="Page navigation">
                  <ul class="pagination">
                      {% if posts.has_previous %}
                          <li class="page-item">
                              <a class="page-link" href="?page=1{% if request.GET.categorie_id %}&categorie_id={{ request.GET.categorie_id }}{% endif %}" aria-label="First">
                                  <span aria-hidden="true">&laquo; First</span>
                              </a>
                          </li>
                          <li class="page-item">
                              <a class="page-link" href="?page={{ posts.previous_page_number }}{% if request.GET.categorie_id %}&categorie_id={{ request.GET.categorie_id }}{% endif %}">Previous</a>
                          </li>
                      {% endif %}
  
                      {% for num in posts.paginator.page_range %}
                          {% if posts.number == num %}
                              <li class="page-item active" aria-current="page">
                                  <span class="page-link">{{ num }}</span>
                              </li>
                          {% else %}
                              <li class="page-item">
                                  <a class="page-link" href="?page={{ num }}{% if request.GET.categorie_id %}&categorie_id={{ request.GET.categorie_id }}{% endif %}">{{ num }}</a>
                              </li>
                          {% endif %}
                      {% endfor %}
  
                      {% if posts.has_next %}
                          <li class="page-item">
                              <a class="page-link" href="?page={{ posts.next_page_number }}{% if request.GET.categorie_id %}&categorie_id={{ request.GET.categorie_id }}{% endif %}">Next</a>
                          </li>
                          <li class="page-item">
                              <a class="page-link" href="?page={{ posts.paginator.num_pages }}{% if request.GET.categorie_id %}&categorie_id={{ request.GET.categorie_id }}{% endif %}" aria-label="Last">
                                  <span aria-hidden="true">Last &raquo;</span>
                              </a>
                          </li>
                      {% endif %}
                  </ul>
                </nav>
                {% endif %}
                {%for item in posts%}
                <div class="card mb-3 blog-card">
                  <div class="row g-0">
                    <div class="col-md-4">
                      <picture>
                        <source type="image/webp" srcset="/media/{{item.image}}">
                        <source type="image/jpeg" srcset="/media/{{item.image}}">
                        <source type="image/png" srcset="/media/{{item.image}}">
                        <img src="/media/{{item.image}}" class="img-fluid card-img" alt="{{item.image}}">
                      </picture>
                    </div>
                    <div class="col-md-8">
                      <div class="card-body">
                        <div class="blog-post-header">
                          <h5 class="card-title">
                            <a class="nav-link blog-title-link" href="/blog?id={{item.id}}{% if request.GET.page %}&page={{ request.GET.page }}{% endif %}">
                              {{item.name_uz_uz}}
                            </a>
                          </h5>
                          <div class="blog-meta">
                            <span class="blog-date">
                              <i class="bi bi-calendar3"></i>
                              {{item.created_at|date:"d M, Y"}}
                            </span>
                          </div>
                        </div>

                        <p class="card-text blog-excerpt">
                          <a class="nav-link blog-text-link" href="/blog?id={{item.id}}{% if request.GET.page %}&page={{ request.GET.page }}{% endif %}">
                            {{item.title_uz_uz|truncatewords:20}}
                          </a>
                        </p>

                        <div class="blog-actions">
                          <a href="/blog?id={{item.id}}{% if request.GET.page %}&page={{ request.GET.page }}{% endif %}" class="blog-read-more">
                            <span class="read-more-text">Batafsil o'qish</span>
                            <i class="bi bi-arrow-right read-more-icon"></i>
                          </a>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                {%endfor%}
                {% if posts.paginator.num_pages > 1 %}
                <nav aria-label="Page navigation">
                  <ul class="pagination">
                      {% if posts.has_previous %}
                          <li class="page-item">
                              <a class="page-link" href="?page=1{% if request.GET.categorie_id %}&categorie_id={{ request.GET.categorie_id }}{% endif %}" aria-label="First">
                                  <span aria-hidden="true">&laquo; First</span>
                              </a>
                          </li>
                          <li class="page-item">
                              <a class="page-link" href="?page={{ posts.previous_page_number }}{% if request.GET.categorie_id %}&categorie_id={{ request.GET.categorie_id }}{% endif %}">Previous</a>
                          </li>
                      {% endif %}
  
                      {% for num in posts.paginator.page_range %}
                          {% if posts.number == num %}
                              <li class="page-item active" aria-current="page">
                                  <span class="page-link">{{ num }}</span>
                              </li>
                          {% else %}
                              <li class="page-item">
                                  <a class="page-link" href="?page={{ num }}{% if request.GET.categorie_id %}&categorie_id={{ request.GET.categorie_id }}{% endif %}">{{ num }}</a>
                              </li>
                          {% endif %}
                      {% endfor %}
  
                      {% if posts.has_next %}
                          <li class="page-item">
                              <a class="page-link" href="?page={{ posts.next_page_number }}{% if request.GET.categorie_id %}&categorie_id={{ request.GET.categorie_id }}{% endif %}">Next</a>
                          </li>
                          <li class="page-item">
                              <a class="page-link" href="?page={{ posts.paginator.num_pages }}{% if request.GET.categorie_id %}&categorie_id={{ request.GET.categorie_id }}{% endif %}" aria-label="Last">
                                  <span aria-hidden="true">Last &raquo;</span>
                              </a>
                          </li>
                      {% endif %}
                  </ul>
                </nav>
                {% endif %}
                {% else %}
                <div class="d-flex align-items-center">
                  <strong>{{post.name_uz_uz}}</strong>
                  <div class="spinner-border ms-auto" role="status" aria-hidden="true"></div>
                </div>
                <div class="card mb-3">
                  <picture>
                    <source type="image/webp" srcset="/media/{{post.image}}">
                    <source type="image/jpeg" srcset="/media/{{post.image}}">
                    <source type="image/png" srcset="/media/{{post.image}}">
                    <img src="/media/{{post.image}}" class="card-img-top" alt="{{post.image}}">
                  </picture>
                  <div class="card-body">
                    <h5 class="card-title">{{post.name_uz_uz}}</h5>
                    <p class="card-text">{{post.title_uz_uz}}</p>
                    <p class="card-text">{{post.body_uz_uz|safe}}</p>
                    <p class="card-text"><small class="text-muted">{{post.created_at}}</small></p>
                  </div>
                </div>
                {% endif %}
              </div>
              <div class="col-md-4">
                <div class="sidebar slide-in-right">
                  <h2>Kategoriyalar</h2>
                  <ul class="list-group">
                    {%for item in categories%}
                    <li class="list-group-item">
                      {% if request.GET.id and post.categorie.id == item.id %}
                      <a href="/blog?categorie_id={{item.id}}" class="btn position-relative category-btn category-active">
                        {{item.name_uz_uz}}
                        <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-success">
                          {{item.total}}
                        </span>
                      </a>
                      {% elif request.GET.categorie_id == item.id|stringformat:'s' %}
                      <a href="/blog?categorie_id={{item.id}}" class="btn position-relative category-btn category-active">
                        {{item.name_uz_uz}}
                        <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-success">
                          {{item.total}}
                        </span>
                      </a>
                      {% else %}
                      <a href="/blog?categorie_id={{item.id}}" class="btn position-relative category-btn btn-primary">
                        {{item.name_uz_uz}}
                        <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                          {{item.total}}
                        </span>
                      </a>
                      {% endif %}
                    </li>
                    {%endfor%}
                  </ul>
                  <br />
                  <h2>So'nggi Maqolalar</h2>
                    <ul class="list-group">
                      {%for item in posts%}
                        <li class="list-group-item"><a class="link-info" href="/blog?id={{item.id}}">{{item.name_uz_uz}}</a></li>
                      {%endfor%}
                    </ul>
                </div>
              </div>
          </div>
      </div>
      {% include 'comment_form.html' %}
      <ins class="adsbygoogle"
        style="display:block; text-align:center;"
        data-ad-format="autorelaxed"
        data-ad-client="ca-pub-7773722896374259"
        data-ad-slot="2479701367"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
      <ins class="adsbygoogle"
        style="display:block; text-align:center;"
        data-ad-format="fluid"
        data-ad-layout-key="-an-4i-cp+a2+21k"
        data-ad-client="ca-pub-7773722896374259"
        data-ad-slot="4679993061"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
      <ins class="adsbygoogle"
        style="display:block; text-align:center;"
        data-ad-client="ca-pub-7773722896374259"
        data-ad-slot="3869366477"
        data-ad-format="auto"
        data-full-width-responsive="true"></ins>
      <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
      </script>      <!-- Comments Section -->

      <!-- Footer -->
      <footer class="bg-dark text-light text-center py-3" style="z-index: 1000;">
          <p>&copy; 2024 Complex Programmer Blog Sayti. Barcha huquqlar himoyalangan.</p>
      </footer>
      <!-- Bootstrap JavaScript fayllari (Popper.js va Bootstrap JS ni o'z ichiga oladi) -->
      {% comment %} <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script> {% endcomment %}
      {% comment %} <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script> {% endcomment %}
      <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-analytics.js";
        const firebaseConfig = {
          apiKey: "AIzaSyDpWaFi5QLTNc-yY0ieMKJtGOmbm2ofBm4",
          authDomain: "c0mplex.firebaseapp.com",
          databaseURL: "https://c0mplex-default-rtdb.asia-southeast1.firebasedatabase.app",
          projectId: "c0mplex",
          storageBucket: "c0mplex.appspot.com",
          messagingSenderId: "755681568857",
          appId: "1:755681568857:web:102b1b733df55baefe2948",
          measurementId: "G-H8XGTS4B9J"
        };
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
      </script>

<script>
// Three.js Scene Setup for Blog - Writing/Reading Theme
let scene, camera, renderer, particles, books = [], pens = [], papers = [];
let mouseX = 0, mouseY = 0;

function initThreeJS() {
    const canvas = document.getElementById('threejs-canvas');
    if (!canvas) return;

    scene = new THREE.Scene();

    camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
    camera.position.z = 50;

    renderer = new THREE.WebGLRenderer({
        canvas,
        alpha: true,
        antialias: true
    });
    renderer.setSize(window.innerWidth, window.innerHeight);
    renderer.setPixelRatio(window.devicePixelRatio);

    // Create particles (text/ink effect)
    createBlogParticles();

    // Create floating books
    createBooks();

    // Create pen shapes
    createPens();

    // Create paper sheets
    createPapers();

    // Add lights
    const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
    scene.add(ambientLight);

    const pointLight1 = new THREE.PointLight(0x667eea, 1.5, 100);
    pointLight1.position.set(20, 20, 20);
    scene.add(pointLight1);

    const pointLight2 = new THREE.PointLight(0xf093fb, 1.5, 100);
    pointLight2.position.set(-20, -20, 10);
    scene.add(pointLight2);

    const pointLight3 = new THREE.PointLight(0x4facfe, 1, 80);
    pointLight3.position.set(0, 15, -15);
    scene.add(pointLight3);

    // Mouse movement listener
    document.addEventListener('mousemove', (event) => {
        mouseX = (event.clientX / window.innerWidth) * 2 - 1;
        mouseY = -(event.clientY / window.innerHeight) * 2 + 1;
    });

    // Window resize handler
    window.addEventListener('resize', () => {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
    });

    animate();
}

function createBlogParticles() {
    const geometry = new THREE.BufferGeometry();
    const vertices = [];
    const colors = [];

    for (let i = 0; i < 2000; i++) {
        vertices.push(
            Math.random() * 200 - 100,
            Math.random() * 200 - 100,
            Math.random() * 200 - 100
        );

        // Blog/writing colors
        const colorOptions = [
            new THREE.Color(0x667eea), // Purple
            new THREE.Color(0xf093fb), // Pink
            new THREE.Color(0x4facfe), // Cyan
            new THREE.Color(0x764ba2), // Dark purple
            new THREE.Color(0x000000)  // Black (ink)
        ];
        const color = colorOptions[Math.floor(Math.random() * colorOptions.length)];
        colors.push(color.r, color.g, color.b);
    }

    geometry.setAttribute('position', new THREE.Float32BufferAttribute(vertices, 3));
    geometry.setAttribute('color', new THREE.Float32BufferAttribute(colors, 3));

    const material = new THREE.PointsMaterial({
        size: 0.6,
        vertexColors: true,
        transparent: true,
        opacity: 0.7,
        blending: THREE.AdditiveBlending
    });

    particles = new THREE.Points(geometry, material);
    scene.add(particles);
}

function createBooks() {
    // Create book shapes
    const bookConfigs = [
        { position: { x: -25, y: 15, z: -20 }, color: 0x667eea, size: { w: 3, h: 4, d: 0.5 } },
        { position: { x: 25, y: -15, z: -15 }, color: 0xf093fb, size: { w: 2.5, h: 3.5, d: 0.4 } },
        { position: { x: -20, y: -20, z: -25 }, color: 0x4facfe, size: { w: 3.2, h: 4.2, d: 0.6 } },
        { position: { x: 15, y: 20, z: -18 }, color: 0x764ba2, size: { w: 2.8, h: 3.8, d: 0.5 } }
    ];

    bookConfigs.forEach((config) => {
        const bookGroup = new THREE.Group();

        // Book cover
        const coverGeometry = new THREE.BoxGeometry(config.size.w, config.size.h, config.size.d);
        const coverMaterial = new THREE.MeshPhongMaterial({
            color: config.color,
            transparent: true,
            opacity: 0.3,
            shininess: 100
        });
        const cover = new THREE.Mesh(coverGeometry, coverMaterial);
        bookGroup.add(cover);

        // Book pages (white edge)
        const pagesGeometry = new THREE.BoxGeometry(config.size.w * 0.95, config.size.h * 0.95, config.size.d * 0.8);
        const pagesMaterial = new THREE.MeshPhongMaterial({
            color: 0xffffff,
            transparent: true,
            opacity: 0.4
        });
        const pages = new THREE.Mesh(pagesGeometry, pagesMaterial);
        bookGroup.add(pages);

        bookGroup.position.set(config.position.x, config.position.y, config.position.z);
        bookGroup.rotation.x = Math.random() * Math.PI * 0.5;
        bookGroup.rotation.y = Math.random() * Math.PI;

        bookGroup.userData = {
            rotationSpeed: {
                x: Math.random() * 0.008 + 0.002,
                y: Math.random() * 0.008 + 0.002,
                z: Math.random() * 0.006
            }
        };

        books.push(bookGroup);
        scene.add(bookGroup);
    });
}

function createPens() {
    // Create pen/pencil shapes
    const penConfigs = [
        { position: { x: -30, y: 10, z: -15 }, color: 0x333333 },
        { position: { x: 30, y: -10, z: -20 }, color: 0x0066cc },
        { position: { x: 0, y: 25, z: -25 }, color: 0xff0000 }
    ];

    penConfigs.forEach((config) => {
        const penGroup = new THREE.Group();

        // Pen body (cylinder)
        const bodyGeometry = new THREE.CylinderGeometry(0.15, 0.15, 4, 16);
        const bodyMaterial = new THREE.MeshPhongMaterial({
            color: config.color,
            transparent: true,
            opacity: 0.5,
            shininess: 100
        });
        const body = new THREE.Mesh(bodyGeometry, bodyMaterial);
        penGroup.add(body);

        // Pen tip (cone)
        const tipGeometry = new THREE.ConeGeometry(0.15, 0.5, 16);
        const tipMaterial = new THREE.MeshPhongMaterial({
            color: 0x000000,
            transparent: true,
            opacity: 0.6
        });
        const tip = new THREE.Mesh(tipGeometry, tipMaterial);
        tip.position.y = -2.25;
        penGroup.add(tip);

        penGroup.position.set(config.position.x, config.position.y, config.position.z);
        penGroup.rotation.z = Math.PI / 4;

        penGroup.userData = {
            rotationSpeed: {
                x: Math.random() * 0.015,
                y: Math.random() * 0.015,
                z: Math.random() * 0.01
            }
        };

        pens.push(penGroup);
        scene.add(penGroup);
    });
}

function createPapers() {
    // Create floating paper sheets
    const paperConfigs = [
        { position: { x: 22, y: 18, z: -22 }, color: 0xffffff },
        { position: { x: -22, y: -18, z: -15 }, color: 0xf5f5f5 },
        { position: { x: 18, y: -22, z: -28 }, color: 0xfafafa }
    ];

    paperConfigs.forEach((config) => {
        const paperGeometry = new THREE.PlaneGeometry(3.5, 4.5);
        const paperMaterial = new THREE.MeshPhongMaterial({
            color: config.color,
            transparent: true,
            opacity: 0.25,
            side: THREE.DoubleSide,
            shininess: 50
        });
        const paper = new THREE.Mesh(paperGeometry, paperMaterial);

        paper.position.set(config.position.x, config.position.y, config.position.z);
        paper.rotation.x = Math.random() * Math.PI;
        paper.rotation.y = Math.random() * Math.PI;

        paper.userData = {
            rotationSpeed: {
                x: Math.random() * 0.01,
                y: Math.random() * 0.01,
                z: Math.random() * 0.008
            },
            floatSpeed: Math.random() * 0.5 + 0.3,
            floatPhase: Math.random() * Math.PI * 2
        };

        papers.push(paper);
        scene.add(paper);
    });
}

function animate() {
    requestAnimationFrame(animate);

    const time = Date.now() * 0.001;

    // Rotate particles
    if (particles) {
        particles.rotation.y += 0.0006;
        particles.rotation.x += 0.0003;
    }

    // Animate books
    books.forEach((book) => {
        book.rotation.x += book.userData.rotationSpeed.x;
        book.rotation.y += book.userData.rotationSpeed.y;
        book.rotation.z += book.userData.rotationSpeed.z;
    });

    // Animate pens
    pens.forEach((pen) => {
        pen.rotation.x += pen.userData.rotationSpeed.x;
        pen.rotation.y += pen.userData.rotationSpeed.y;
        pen.rotation.z += pen.userData.rotationSpeed.z;
    });

    // Animate papers with floating effect
    papers.forEach((paper) => {
        paper.rotation.x += paper.userData.rotationSpeed.x;
        paper.rotation.y += paper.userData.rotationSpeed.y;
        paper.rotation.z += paper.userData.rotationSpeed.z;

        // Floating motion
        const float = Math.sin(time * paper.userData.floatSpeed + paper.userData.floatPhase) * 2;
        paper.position.y += float * 0.01;
    });

    // Gentle camera movement based on mouse
    camera.position.x += (mouseX * 3 - camera.position.x) * 0.025;
    camera.position.y += (mouseY * 3 - camera.position.y) * 0.025;
    camera.lookAt(scene.position);

    renderer.render(scene, camera);
}

// Initialize Three.js when DOM is loaded
if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initThreeJS);
} else {
    initThreeJS();
}

// Update Three.js theme
function updateThreeJSTheme(theme) {
    if (!particles || !books.length) return;

    if (theme === 'dark') {
        particles.material.opacity = 0.6;
        books.forEach(book => {
            book.children.forEach(child => {
                if (child.material) child.material.opacity = 0.4;
            });
        });
        pens.forEach(pen => {
            pen.children.forEach(child => {
                if (child.material) child.material.opacity = 0.6;
            });
        });
        papers.forEach(paper => {
            paper.material.opacity = 0.35;
        });
    } else {
        particles.material.opacity = 0.7;
        books.forEach(book => {
            book.children.forEach(child => {
                if (child.material) child.material.opacity = 0.3;
            });
        });
        pens.forEach(pen => {
            pen.children.forEach(child => {
                if (child.material) child.material.opacity = 0.5;
            });
        });
        papers.forEach(paper => {
            paper.material.opacity = 0.25;
        });
    }
}

// Hook into theme toggle
const originalToggleThemeFunc = window.toggleTheme;
window.toggleTheme = function() {
    if (originalToggleThemeFunc) originalToggleThemeFunc();
    setTimeout(() => {
        const currentTheme = document.documentElement.getAttribute('data-theme');
        updateThreeJSTheme(currentTheme);
    }, 100);
};
</script>

{% include "includes/scroll_buttons.html" %}

  </body>
</html>